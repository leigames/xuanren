<!DOCTYPE html>
<html>
<head>
    <title>é€‰äººæ¸¸æˆè®¡åˆ†å™¨</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px }
        table {
            border-collapse: collapse;
            margin: 20px 0;
            width: 100%;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f8f8f8;
        }
        input[type="text"] {
            width: 120px;
            padding: 4px;
        }
        select {
            padding: 4px;
            min-width: 80px;
        }
        .controls {
            margin: 10px 0;
        }
        button {
            padding: 6px 12px;
            margin-right: 5px;
            cursor: pointer;
        }
        .win { background: #ffd700 }
        .draw { background: #fff5bd }
        .lose { background: #ffffff }
        .id-displayer {
            display: inline-block;
            width: 28px;
            height: 28px;
            line-height: 28px;
            border-radius: 50%;
            /*background: #1976d2;*/
            color: #fff;
            text-align: center;
            font-weight: bold;
            margin-left: 2px;
            margin-right: 2px;
        }
        .word-displayer {
            display: inline-block;
            height: 24px;
            line-height: 24px;
            border-radius: 12px;
            background: #1976d2;
            color: #fff;
            text-align: center;
            font-weight: bold;
            margin-left: 2px;
            margin-right: 2px;
            padding: 0 10px;
        }
        .mvp-badge {
            display: inline-block;
            height: 24px;
            line-height: 24px;
            border-radius: 12px;
            background: #000;
            color: #fff;
            text-align: center;
            font-weight: bold;
            margin-left: 2px;
            margin-right: 2px;
            padding: 0 10px;
        }
        #results table {
            width: auto;
            margin-top: 20px;
        }
        /* tbody tr:nth-child(even) {
            background-color: #f9f9f9;
        } */
        tbody tr:hover {
            background-color: #f1f1f1;
        }
        .word-setting {
            padding: 4px;
            margin-right: 10px;
        }
        u {
            text-decoration: none;
            color: #007bff;
            cursor: pointer;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
</head>
<body>
    <h2>é€‰äººæ¸¸æˆè®¡åˆ†å™¨</h2>
    <div class="controls">
        <button onclick="addPlayer()">â• æ·»åŠ ç©å®¶</button>
        <button onclick="calculateScores()">ğŸ§® è®¡ç®—å¾—åˆ†</button>
        <button onclick="resetGame()">ğŸ”„ é‡ç½®</button>
        <button onclick="outputGameStateJSON()">ğŸ“œ å¯¼å‡ºæ¸¸æˆçŠ¶æ€</button>
        <button onclick="readGameStateJSON()">ğŸ“¥ è¯»å…¥æ¸¸æˆçŠ¶æ€</button>
        <button onclick="readPlayerSpeech()">ğŸ’¬ è¯»å…¥ç©å®¶å‘è¨€</button>
        <button onclick="showRules()">ğŸ“– æŸ¥çœ‹è§„åˆ™</button>
    </div>

    <div>
        <h3>è®¾ç½®é˜Ÿä¼è¯è¯­</h3>
        <div class="controls">
            <label for="wordA">é˜Ÿä¼ A è¯è¯­ï¼š</label><input type="text" class="word-setting" id="wordA" placeholder="ä¾‹:å­¤æ³¨ä¸€æ·" onchange="updateWord('A', this.value)" />
            <label for="wordB">é˜Ÿä¼ B è¯è¯­ï¼š</label><input type="text" class="word-setting" id="wordB" placeholder="ä¾‹:èƒŒæ°´ä¸€æˆ˜" onchange="updateWord('B', this.value)" />
            <label for="wordC">é˜Ÿä¼ C è¯è¯­ï¼š</label><input type="text" class="word-setting" id="wordC" placeholder="ä¾‹:ç ´é‡œæ²‰èˆŸ" onchange="updateWord('C', this.value)" />
        <div>
    </div>

    <div>
        <h3>é…ç½®ç©å®¶ä¿¡æ¯</h3>
        <p>åŒå‡»ç©å®¶æ˜µç§°å¯ä»¥ç¼–è¾‘ç©å®¶æ˜µç§°ï¼Œå‘è¨€å†…å®¹è¯·é€šè¿‡ <u onclick="readPlayerSpeech()">è¯»å…¥ç©å®¶å‘è¨€</u> è¯»å…¥ã€‚å…¶ä½™å­—æ®µå¯ç›´æ¥ç¼–è¾‘ã€‚</p>
        <table>
            <thead>
                <tr>
                    <th>ç©å®¶</th>
                    <th>è§’è‰²</th>
                    <th>é˜Ÿä¼</th>
                    <th>å¾—çŸ¥è¯è¯­</th>
                    <th>å‘è¨€å†…å®¹</th>
                    <th>æŒ‡è®¤é˜Ÿå‹</th>
                    <th>æŒ‡è®¤ç™½æ¿</th>
                    <th>æ“ä½œ</th>
                </tr>
            </thead>
            <tbody id="players-body"></tbody>
        </table>
    </div>

    <div id="results"></div>

<footer>
    <p>
        ç”± <a href="https://github.com/leigames">M0n0</a> åˆ¶ä½œï¼Œæ ¹æ® <a href="https://www.gnu.org/licenses/gpl-3.0.en.html">GPL3.0</a> åè®®å¼€æºã€‚
    </p>
</footer>

<script src="./main.js"></script>
<script>
    function showRules() {
        fetch('./README.md')
            .then(response => response.text())
            .then(content => {
                const rulesWindow = window.open('', '_blank', 'width=800,height=600');
                rulesWindow.document.write('<pre style="white-space: pre-wrap; font-family: Arial, sans-serif; padding: 20px;">' + content + '</pre>');
                rulesWindow.document.title = 'æ¸¸æˆè§„åˆ™';
            })
            .catch(error => {
                alert('æ— æ³•åœ¨å½“å‰é¡µé¢æ¸¸æˆè§„åˆ™ï¼Œè¯·è®¿é—® GitHub æŸ¥çœ‹ï¼šhttps://github.com/leigames/xuanren/blob/main/README.md' + '\n' + error);
                window.open('https://github.com/leigames/xuanren/blob/main/README.md', '_blank');
            });
    }
</script>
</body>
</html>
